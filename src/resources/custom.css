/* Firefox compatibility fixes for CSS custom properties */
@supports (-moz-appearance: none) {
  /* Firefox-specific fallbacks for CSS custom properties */
  :root {
    --static-space-0: 0;
    --static-space-1: 1px;
    --static-space-2: 0.125rem;
    --static-space-4: 0.25rem;
    --static-space-8: 0.5rem;
    --static-space-12: 0.75rem;
    --static-space-16: 1rem;
    --static-space-20: 1.25rem;
    --static-space-24: 1.5rem;
    --static-space-32: 2rem;
    --static-space-40: 2.5rem;
    --static-space-48: 3rem;
    --static-space-56: 3.5rem;
    --static-space-64: 4rem;
    --static-space-80: 5rem;
    --static-space-104: 6.5rem;
    --static-space-128: 8rem;
    --static-space-160: 10rem;

    --static-transparent: #00000000;
    --static-white: #ffffff;
    --static-black: #000000;

    --neutral-background-weak: #f9f9f9;
    --neutral-background-medium: #f3f3f3;
    --neutral-background-strong: #e0e0e0;

    --font-size-body-m: 1rem;
    --line-height-body-m: 1.5rem;
    --font-weight-normal: 400;
    --font-weight-bold: 700;

    --font-body: "Geist", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    --font-heading: "Geist", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;

    --radius-m: 0.75rem;
    --shadow-s: 0px 1px 2px rgba(0, 0, 0, 0.08), 0px 4px 8px rgba(0, 0, 0, 0.08);

    --transition-micro-medium: all 0.2s ease-in-out;

    /* Additional common variables */
    --neutral-alpha-medium: rgba(149, 149, 149, 0.3);
    --neutral-alpha-strong: rgba(149, 149, 149, 0.5);
    --neutral-border-medium: #e0e0e0;
    --neutral-solid-weak: #b2b2b2;
    --neutral-solid-medium: #959595;
    --neutral-solid-strong: #757575;
  }

  /* Ensure backdrop-filter has a fallback */
  [class*="surface-background"] {
    background-color: rgba(255, 255, 255, 0.8) !important;
  }

  /* Firefox doesn't support backdrop-filter well */
  @supports not (backdrop-filter: blur(1rem)) {
    [class*="surface-background"] {
      background-color: rgba(255, 255, 255, 0.95) !important;
    }
  }
}

/* General fallback for all browsers in case CSS variables fail */
html {
  font-family: "Geist", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  font-size: 16px;
  line-height: 1.5;
}

body {
  margin: 0;
  padding: 0;
}

/* Force white text for dark theme */
[data-theme="dark"] {
  color: #ffffff !important;
}

[data-theme="dark"] h1,
[data-theme="dark"] h2,
[data-theme="dark"] h3,
[data-theme="dark"] h4,
[data-theme="dark"] h5,
[data-theme="dark"] h6,
[data-theme="dark"] p,
[data-theme="dark"] span,
[data-theme="dark"] div {
  color: #ffffff !important;
}

/* Ensure headings are white */
[data-theme="dark"] .neutral-on-background-strong {
  color: #ffffff !important;
}

[data-theme="dark"] .neutral-on-background-medium {
  color: #e0e0e0 !important;
}

[data-theme="dark"] .neutral-on-background-weak {
  color: #b0b0b0 !important;
}

/* Ensure basic visibility for all elements */
* {
  color: inherit;
}

/* Basic spacing fallbacks */
.m-0 {
  margin: 0;
}
.m-1 {
  margin: 1px;
}
.m-2 {
  margin: 0.125rem;
}
.m-4 {
  margin: 0.25rem;
}
.m-8 {
  margin: 0.5rem;
}
.m-12 {
  margin: 0.75rem;
}
.m-16 {
  margin: 1rem;
}
.m-20 {
  margin: 1.25rem;
}
.m-24 {
  margin: 1.5rem;
}
.m-32 {
  margin: 2rem;
}

.p-0 {
  padding: 0;
}
.p-1 {
  padding: 1px;
}
.p-2 {
  padding: 0.125rem;
}
.p-4 {
  padding: 0.25rem;
}
.p-8 {
  padding: 0.5rem;
}
.p-12 {
  padding: 0.75rem;
}
.p-16 {
  padding: 1rem;
}
.p-20 {
  padding: 1.25rem;
}
.p-24 {
  padding: 1.5rem;
}
.p-32 {
  padding: 2rem;
}

/* Basic color fallbacks */
.neutral-background-weak {
  background-color: #f9f9f9;
}
.neutral-background-medium {
  background-color: #f3f3f3;
}

/* Basic border fallbacks */
.border-1 {
  border-width: 1px;
  border-style: solid;
  border-color: #e0e0e0;
}
.radius-m {
  border-radius: 0.75rem;
}

/* Basic typography fallbacks */
.font-body {
  font-family: "Geist", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}
.font-heading {
  font-family: "Geist", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}
.font-display {
  font-family: "Geist", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

/* Firefox CSS custom property fallbacks */
:root {
  --scheme-neutral-600-30: rgba(137, 152, 159, 0.3);
  --scheme-neutral-600-50: rgba(137, 152, 159, 0.5);
}
